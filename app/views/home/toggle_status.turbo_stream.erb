<%= turbo_stream.replace @task do %>
    <li id="<%= dom_id(@task) %>" class="flex justify-between items-center bg-gray-100 px-4 py-3 rounded">
        <!-- ซ้าย: Title -->
        <div class="flex-1 min-w-0">
        <label for="task_<%= @task.id %>" 
                class="text-base md:text-lg break-words whitespace-normal overflow-hidden <%= "line-through text-gray-500" if @task.status %>">
            <%= @task.content %>
        </label>
        </div>

        <!-- ขวา: Checkbox + Delete -->
        <div class="flex items-center gap-3 shrink-0">
        <%= form_with model: @task, url: toggle_status_task_path(@task), method: :patch, data: { turbo_stream: true } do |form| %>
            <%= form.check_box :status, {
                checked: @task.status,
                class: "w-5 h-5",
                id: "task_#{@task.id}",
                onchange: "this.form.requestSubmit()",
                data: { testid: "checkbox-quest-#{@task.id}" }
                } %>
        <% end %>

        <%= button_to tasks_path(@task),
                        method: :delete,
                        form: { data: { turbo_stream: true } },
                        class: "group bg-transparent p-0 border-0" do %>
            <%= image_tag "delete_icon.svg", alt: "Delete",
                        class: "w-6 h-6 group-hover:opacity-60 transition-opacity duration-100" %>
        <% end %>
        </div>
    </li>
<% end %>
